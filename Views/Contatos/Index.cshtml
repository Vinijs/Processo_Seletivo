@model IEnumerable<Processo_Seletivo_Programador.Models.Contato>

@{
    ViewBag.Title = "Index";
}

<h2>Meus Contatos</h2>

<p>
    <button class="btn btn-primary create">Novo Contato</button>
</p>


<table class="table table-striped">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Telefone)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Data)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Telefone)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Data)
            </td>
            <td>
                <button class="btn btn-warning edit" data-id="@item.Id">Editar</button>
                <button class="btn btn-danger delete" data-id="@item.Id">Deletar</button>
                <!-- <button class="btn btn-default" name="@item.Nome" onclick="ConfirmarExclusao()">Deletar</button> -->
            </td>
        </tr>
    }
</table>
<hr />
<footer>
    <p>&copy; @DateTime.Now.Year - Meu Aplicativo ASP.NET</p>
</footer>


<div id="modal" class="modal fade" role="dialog" />



@section scripts{
    <script>
        $(function () {
            $(".create").click(function () {

                $("#modal").load("Contatos/Create", function () {
                    $("#modal").modal();
                })
            });

            $(".edit").click(function () {
                var id = $(this).attr("data-id");
                //alert(id);
                $("#modal").load("Contatos/Edit?id=" + id, function () {
                    $("#modal").modal();
                })
            });

            $(".delete").click(function () {
                var id = $(this).attr("data-id");
                //alert(id);
                $("#modal").load("Contatos/Delete?id=" + id, function () {
                    $("#modal").modal();
                })
            });

        })

        function ConfirmarExclusao() {
                confirm("Deseja realmente excluir o contato?");
        }


    </script>
}
